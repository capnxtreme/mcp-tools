<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Debug Bridge Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        button {
            margin: 10px 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
        #output {
            border: 1px solid #ccc;
            padding: 20px;
            margin-top: 20px;
            background-color: #f5f5f5;
            min-height: 100px;
        }
        .error {
            color: red;
        }
        .warning {
            color: orange;
        }
        .log {
            color: black;
        }
    </style>
</head>
<body>
    <h1>JS Debug Bridge Test Page</h1>
    
    <div>
        <button onclick="logMessage()">Log Message</button>
        <button onclick="logWarning()">Log Warning</button>
        <button onclick="logError()">Log Error</button>
        <button onclick="throwError()">Throw Error</button>
        <button onclick="makeApiCall()">Make API Call</button>
        <button onclick="setLocalStorage()">Set LocalStorage</button>
        <button onclick="getLocalStorage()">Get LocalStorage</button>
    </div>
    
    <div id="output">
        <p>Console output will appear here...</p>
    </div>
    
    <script>
        // Log initial page load
        console.log('Test page loaded successfully');
        
        function updateOutput(message, type = 'log') {
            const output = document.getElementById('output');
            const timestamp = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = type;
            entry.textContent = `[${timestamp}] ${message}`;
            output.appendChild(entry);
        }
        
        function logMessage() {
            const message = 'This is a test log message';
            console.log(message);
            updateOutput(message, 'log');
        }
        
        function logWarning() {
            const message = 'This is a test warning';
            console.warn(message);
            updateOutput(message, 'warning');
        }
        
        function logError() {
            const message = 'This is a test error';
            console.error(message);
            updateOutput(message, 'error');
        }
        
        function throwError() {
            try {
                throw new Error('This is a thrown error');
            } catch (e) {
                console.error('Caught error:', e.message);
                updateOutput('Caught error: ' + e.message, 'error');
            }
        }
        
        async function makeApiCall() {
            try {
                console.log('Making API call to JSONPlaceholder...');
                updateOutput('Making API call...', 'log');
                
                const response = await fetch('https://jsonplaceholder.typicode.com/posts/1');
                const data = await response.json();
                
                console.log('API Response:', data);
                updateOutput('API call successful: ' + data.title, 'log');
            } catch (error) {
                console.error('API call failed:', error);
                updateOutput('API call failed: ' + error.message, 'error');
            }
        }
        
        function setLocalStorage() {
            const key = 'testKey';
            const value = 'testValue_' + Date.now();
            localStorage.setItem(key, value);
            console.log(`Set localStorage: ${key} = ${value}`);
            updateOutput(`Set localStorage: ${key} = ${value}`, 'log');
        }
        
        function getLocalStorage() {
            const key = 'testKey';
            const value = localStorage.getItem(key);
            console.log(`Get localStorage: ${key} = ${value}`);
            updateOutput(`Get localStorage: ${key} = ${value}`, 'log');
        }
        
        // Log page ready
        window.addEventListener('DOMContentLoaded', () => {
            console.log('DOM fully loaded and parsed');
        });
    </script>
</body>
</html>